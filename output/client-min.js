function connect(e){const t=io();let n=$("#m");t.emit("change_username",{username:e}),n.bind("keypress",function(){t.emit("typing")}),t.on("user already exist",function(){alert("user already exist"),location.reload()}),t.on("typing",function(e){$("#feedBack").html($("<li>").text(e.username+" is typing")),$("#messages").scrollTop($("#messages").prop("scrollHeight"))}),t.on("done typing",function(e){$("#feedBack").html($("<li>").text())}),t.on("chat message",function(e){$("#messages").append($("<li>").text(e)),$("#messages").scrollTop($("#messages").prop("scrollHeight"))}),t.on("userList",function(e){$("#users").html("");for(let t=0;t<e.users.length;t++)$("#users").append($("<li>").text(e.users[t]))}),t.on("updateBalance",function(e){$("#balanceArea").html(""),$("#balanceArea").append(e)}),t.on("showHand",function(e){let t=e.player,n=e.dealer;$("#dealerHand").html(""),$("#dealerScore").text(""),$("#dealerScore").text(n.score);let a="";for(let e=0;e<n.hand.length;e++){a+="<img style='left:"+30*e+"px' src='"+n.hand[e].png+"'></img>"}$("#dealerHand").append(a),$("#player1Name").text(""),$("#player2Name").text(""),$("#player3Name").text(""),$("#player1Score").text(""),$("#player2Score").text(""),$("#player3Score").text(""),$("#player1Hand").html(""),$("#player2Hand").html(""),$("#player3Hand").html("");for(let e=0;e<t.length;e++)if(t[e].hand.length>0){let n=t[e].id+1,a=$("#player"+n+"Name"),l=$("#player"+n+"Score");l.text("");let r=$("#player"+n+"Hand");r.html("");let o="";a.text(t[e].name),l.text(t[e].score);for(let n=0;n<t[e].hand.length;n++){o+="<img style='left:"+30*n+"px' src='"+t[e].hand[n].png+"'></img>"}r.append(o)}}),t.on("enable",function(){$("#hit").attr("disabled",!1),$("#stand").attr("disabled",!1),$("#doubleDown").prop("disabled",!1),$("#surender").prop("disabled",!1)}),t.on("enable newGame",function(e){$("#play").prop("checked")&&$("#newGame").prop("disabled",!1),$("#play").prop("disabled",!1)}),t.on("disable",function(){$("#hit").attr("disabled",!0),$("#stand").attr("disabled",!0),$("#newGame").prop("disabled",!0),$("#play").prop("disabled",!0),$("#doubleDown").prop("disabled",!0),$("#surender").prop("disabled",!0)}),$("#hit").on("click",function(){t.emit("hit")}),$("#stand").on("click",function(){$("#stand,#hit").attr("disabled",!0),t.emit("stand")}),$("#surender").on("click",function(){t.emit("surrender")}),$("#doubleDown").on("click",function(){t.emit("doubleDown")}),$("#newGame").on("click",function(){t.emit("newGame")}),$("#reset").on("click",function(){t.emit("reset"),$("#hit").attr("disabled",!0),$("#stand").attr("disabled",!0),$("#newGame").prop("disabled",!0),$("#play").prop("disabled",!0),$("#doubleDown").prop("disabled",!0),$("#surender").prop("disabled",!0)}),$("#bet").submit(function(){return new RegExp("[0-9]+").test($("#betInput").val())?(t.emit("bet",$("#betInput").val()),$("#betInput").val("")):(alert("Accepts numbers only!"),$("#betInput").val("")),!1}),$("#chatMsg").submit(function(){return t.emit("done typing"),t.emit("chat message",$("#m").val()),$("#m").val(""),!1}),t.on("to many active players",function(){$("#play").prop("checked")&&($("#play").prop("checked",!1),$("#newGame").attr("disabled",!0))}),$("#play").on("change",function(){$("#play").prop("checked")?(t.emit("active"),$("#newGame").attr("disabled",!1)):(t.emit("not active"),$("#newGame").attr("disabled",!0))}),t.on("won",function(e){$("#winnerArea").html("");for(let t=0;t<e.winnerList.length;t++)$("#winnerArea").append(e.winnerList[t]+"<br>")})}$(document).ready(function(){let e=prompt("Username","AnonymousX");null==e||""==e?alert("User canceled"):connect(e)});